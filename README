


msl compiler installation:

```
# install toolchain
xcode-select --install
xcodebuild -downloadComponent MetalToolchain

# mls -> ll
xcrun -sdk macosx metal -S -emit-llvm shader.metal -o reference.ll

# ll -> metallib
xcrun -sdk macosx metal shader.metal -o shader.metallib






xcrun -sdk macosx metal -o shader.ir -c shader.metal
xcrun -sdk macosx metal shader.ir
```

references:

- https://developer.apple.com/documentation/metal/performing-calculations-on-a-gpu
- https://developer.apple.com/documentation/metal/building-a-shader-library-by-precompiling-source-files
